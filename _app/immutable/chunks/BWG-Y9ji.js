import{S as A,G as W,H as X,I as E,J as k,K as y,U as b,L as D,g as h,B as U,M as p,N as ee,O as re,i as ae,l as F,F as ne,E as te,P as ie,Q as fe,D as se,R as Y,V as $,j,W as G,m as ue,X as le,Y as _e,b as q,Z as de,_ as Q,n as H,$ as ve,a0 as ce,a1 as be,a2 as ge,a3 as oe,a4 as ye,a5 as he,a6 as Pe,a7 as K,a8 as Ee,y as Re,a9 as Ie,aa as Se,ab as we,f as Z,ac as Oe,ad as Ne}from"./CLqvpX93.js";import{s as Te,g as Ae}from"./Ni2zTvvY.js";function w(e,i=null,_){if(typeof e!="object"||e===null||A in e)return e;const l=ee(e);if(l!==W&&l!==X)return e;var t=new Map,u=re(e),g=E(0);u&&t.set("length",E(e.length));var P;return new Proxy(e,{defineProperty(s,r,a){(!("value"in a)||a.configurable===!1||a.enumerable===!1||a.writable===!1)&&k();var f=t.get(r);return f===void 0?(f=E(a.value),t.set(r,f)):y(f,w(a.value,P)),!0},deleteProperty(s,r){var a=t.get(r);if(a===void 0)r in s&&t.set(r,E(b));else{if(u&&typeof r=="string"){var f=t.get("length"),n=Number(r);Number.isInteger(n)&&n<f.v&&y(f,n)}y(a,b),V(g)}return!0},get(s,r,a){var c;if(r===A)return e;var f=t.get(r),n=r in s;if(f===void 0&&(!n||(c=D(s,r))!=null&&c.writable)&&(f=E(w(n?s[r]:b,P)),t.set(r,f)),f!==void 0){var d=h(f);return d===b?void 0:d}return Reflect.get(s,r,a)},getOwnPropertyDescriptor(s,r){var a=Reflect.getOwnPropertyDescriptor(s,r);if(a&&"value"in a){var f=t.get(r);f&&(a.value=h(f))}else if(a===void 0){var n=t.get(r),d=n==null?void 0:n.v;if(n!==void 0&&d!==b)return{enumerable:!0,configurable:!0,value:d,writable:!0}}return a},has(s,r){var d;if(r===A)return!0;var a=t.get(r),f=a!==void 0&&a.v!==b||Reflect.has(s,r);if(a!==void 0||U!==null&&(!f||(d=D(s,r))!=null&&d.writable)){a===void 0&&(a=E(f?w(s[r],P):b),t.set(r,a));var n=h(a);if(n===b)return!1}return f},set(s,r,a,f){var I;var n=t.get(r),d=r in s;if(u&&r==="length")for(var c=a;c<n.v;c+=1){var R=t.get(c+"");R!==void 0?y(R,b):c in s&&(R=E(b),t.set(c+"",R))}n===void 0?(!d||(I=D(s,r))!=null&&I.writable)&&(n=E(void 0),y(n,w(a,P)),t.set(r,n)):(d=n.v!==b,y(n,w(a,P)));var o=Reflect.getOwnPropertyDescriptor(s,r);if(o!=null&&o.set&&o.set.call(f,a),!d){if(u&&typeof r=="string"){var O=t.get("length"),N=Number(r);Number.isInteger(N)&&N>=O.v&&y(O,N+1)}V(g)}return!0},ownKeys(s){h(g);var r=Reflect.ownKeys(s).filter(n=>{var d=t.get(n);return d===void 0||d.v!==b});for(var[a,f]of t)f.v!==b&&!(a in s)&&r.push(a);return r},setPrototypeOf(){p()}})}function V(e,i=1){y(e,e.v+i)}function xe(e,i,_=!1){F&&ne();var l=e,t=null,u=null,g=b,P=_?te:0,s=!1;const r=(f,n=!0)=>{s=!0,a(n,f)},a=(f,n)=>{if(g===(g=f))return;let d=!1;if(F){const c=l.data===ie;!!g===c&&(l=fe(),se(l),Y(!1),d=!0)}g?(t?$(t):n&&(t=j(()=>n(l))),u&&G(u,()=>{u=null})):(u?$(u):n&&(u=j(()=>n(l))),t&&G(t,()=>{t=null})),d&&Y(!0)};ae(()=>{s=!1,i(r),s||a(null,null)},P),F&&(l=ue)}function z(e,i){return e===i||(e==null?void 0:e[A])===i}function Fe(e={},i,_,l){return le(()=>{var t,u;return _e(()=>{t=u,u=[],q(()=>{e!==_(...u)&&(i(e,...u),t&&z(_(...t),e)&&i(null,...t))})}),()=>{de(()=>{u&&z(_(...u),e)&&i(null,...u)})}}),e}let m=!1,B=Symbol();function Ue(e,i,_){const l=_[i]??(_[i]={store:null,source:Q(void 0),unsubscribe:H});if(l.store!==e&&!(B in _))if(l.unsubscribe(),l.store=e??null,e==null)l.source.v=void 0,l.unsubscribe=H;else{var t=!0;l.unsubscribe=Te(e,u=>{t?l.source.v=u:y(l.source,u)}),t=!1}return e&&B in _?Ae(e):h(l.source)}function qe(){const e={};function i(){ve(()=>{for(var _ in e)e[_].unsubscribe();ce(e,B,{enumerable:!1,value:!0})})}return[e,i]}function Be(e,i,_){return e.set(_),i}function me(e){var i=m;try{return m=!1,[e(),m]}finally{m=i}}function J(e){for(var i=U,_=U;i!==null&&!(i.f&(he|Pe));)i=i.parent;try{return K(i),e()}finally{K(_)}}function Ce(e,i,_,l){var M;var t=(_&Ee)!==0,u=!Re||(_&Ie)!==0,g=(_&Se)!==0,P=(_&Ne)!==0,s=!1,r;g?[r,s]=me(()=>e[i]):r=e[i];var a=A in e||we in e,f=g&&(((M=D(e,i))==null?void 0:M.set)??(a&&i in e&&(v=>e[i]=v)))||void 0,n=l,d=!0,c=!1,R=()=>(c=!0,d&&(d=!1,P?n=q(l):n=l),n);r===void 0&&l!==void 0&&(f&&u&&be(),r=R(),f&&f(r));var o;if(u)o=()=>{var v=e[i];return v===void 0?R():(d=!0,c=!1,v)};else{var O=J(()=>(t?Z:Oe)(()=>e[i]));O.f|=ge,o=()=>{var v=h(O);return v!==void 0&&(n=void 0),v===void 0?n:v}}if(!(_&oe))return o;if(f){var N=e.$$legacy;return function(v,S){return arguments.length>0?((!u||!S||N||s)&&f(S?o():v),v):o()}}var I=!1,C=!1,L=Q(r),T=J(()=>Z(()=>{var v=o(),S=h(L);return I?(I=!1,C=!0,S):(C=!1,L.v=v)}));return t||(T.equals=ye),function(v,S){if(arguments.length>0){const x=S?h(T):u&&g?w(v):v;return T.equals(x)||(I=!0,y(L,x),c&&n!==void 0&&(n=x),q(()=>h(T))),v}return h(T)}}export{w as a,Fe as b,Be as c,Ue as d,xe as i,Ce as p,qe as s};
